{{ define "simulatorFrag" }}
<div class="row">
  {{ if and (.IsLoggedIn) (.Data.isOwner) }}
    <div class="input-field col s6">
      {{ if .Data.simulation.Name }}
        <input id="simulation-name" type="text" value="{{ .Data.simulation.Name }}" onkeypress="outOfSync()"></input>
      {{ else }}
        <input id="simulation-name" type="text" value="New Simulation" onkeypress="outOfSync()"></input>
      {{ end }}
      <label for="simulation-name" id="simulation-name-label">Simulation Name</label>
    </div>
    <div class="col s1 right pad-sides">
      <h4><a class="waves-effect waves-light btn-floating green darken-1" id="save-button" onclick="saveSimulation()"><i class="fa fa-floppy-o"></i></a></h4>
    </div>
    <!-- Private/Public Checkbox -->
    <div class="col s2 right private-checkbox">
      <div class="switch">
        <label>
          Public
          {{ if .Data.simulation.IsPrivate }}
            <input id="simulation-is-private" checked="true" type="checkbox" onclick="outOfSync()">
          {{ else }}
            <input id="simulation-is-private" type="checkbox" onclick="outOfSync()">
          {{ end }}
          <span class="lever"></span>
          Private
        </label>
      </div>
    </div>
    {{ if .Data.simulation.Name }}
    <div class="col s1 right pad-sides">
      <h4 id="ratings" class="tooltipped" data-position="left" data-delay="50" data-tooltip="Loading Stars...">
        <i class="fa fa-star waves-effect waves-light grey-text text-lighten-1"></i>
      </h4>
    </div>
    {{ end }}
  {{ else }}
    <div class="col s6">
      {{ if .Data.simulation.Name }}
        <h4 class="page-header">{{ .Data.simulation.Name }}</h4>
        <small>By: {{ .Data.simulationAuthorDisplay }}</small>
      {{ else }}
        <h4 class="page-header">Simulation</h4>
      {{ end }}
    </div>
    {{ if .Data.simulation.Name }}
    <div class="col s1 right pad-sides">
      <h4 id="ratings" class="tooltipped" data-position="left" data-delay="50" data-tooltip="Loading Stars...">
        {{ if .IsLoggedIn }}
          <a onclick="saveRating()"><i id="star-icon" class="fa fa-star-o waves-effect waves-light yellow-text text-accent-4"></i></a>
        {{ else }}
          <i class="fa fa-star waves-effect waves-light grey-text text-lighten-1"></i>
        {{ end }}
      </h4>
    </div>
    {{ end }}
  {{ end }}
</div>

<div class="row">
  <div class="col s8">
    <!-- This div has to have the id "viewport" for PhysicsJS to render here -->
    <div style="height: 500px;" id="viewport" class="white card"></div>
  </div>
  <div class="col s4 card scrollable-tools" style="height: 500px;">
    <ul class="tabs">
      <li class="tab col s4 valign-wrapper"><a class="property-tab blue-text valign active" href="#toolbox" id="toolbox-tab"><i class="fa fa-cubes fa-size-medium"></i></a></li>
      <li class="tab col s4"><a class="property-tab blue-text valign" href="#elementprops" id="elementprops-tab"><i class="fa fa-info-circle fa-size-medium"></i></a></li>
      <li class="tab col s4"><a class="property-tab blue-text valign" href="#globalprops" id="globalprops-tab"><i class="fa fa-globe fa-size-medium"></i></a></li>
      <div class="indicator blue" style="z-index: 1;"></div>
    </ul>

    <!-- Toolbox -->
    <div id="toolbox">
      <div class="center-align">
        <h5 class="pad-sides">Toolbox</h5>
        <div class="row">
          <div class="col s4 toolbox-item-container" style="background-color: #f5f5f5; width:100px; height:100px;">
            <div class="dummy"></div>
            <div class="toolbox-item">
              <img src="/static/img/logo/logo.png" class="draggable" width="40" component="kinematics1D-mass">
            </div>
          </div>
          <div class="col s4 toolbox-item-container" style="background-color: #f5f5f5; width:100px; height:100px; ">
            <div class="dummy"></div>
            <div class="toolbox-item"> 
              <img src="/static/img/toolbox/spring.png" class="draggable" width="55" component="kinematics1D-spring">
            </div>
          </div>
        </div>
        
        <div class="row">
          <div class="col s4 toolbox-item-container" style="background-color: #f5f5f5; width:100px; height:100px;">
            <div class="dummy"></div>
            <div class="toolbox-item">
              <img src="/static/img/toolbox/pulley.png" class="draggable" width="40" component="kinematics1D-pulley">
            </div>
          </div>
          <div class="col s4 toolbox-item-container" style="background-color: #f5f5f5; width:100px; height:100px; ">
            <div class="dummy"></div>
            <div class="toolbox-item"> 
              <img src="/static/img/toolbox/rope.png" class="draggable" width="55" component="kinematics1D-rope">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Properties window for each element -->
    <div id="elementprops">
      <div class="center-align">
        <h5 class="pad-sides"><span id="properties-nickname-title"></span>Element Properties</h5>
        <div class="row">
          <div class="input-field col s6">
            <input type="number" id="properties-position-x" placeholder=""></input>
            <label for="properties-position-x" class="active" id="x-position-label">X Position</label>
          </div>
          <div class="input-field col s6">
            <input type="number" id="properties-position-y" placeholder=""></input>
            <label for="properties-position-y" class="active" id="y-position-label">Y Position</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input type="number" id="properties-velocity-x" placeholder=""></input>
            <label for="properties-velocity-x" class="active" id="x-velocity-label">X Velocity</label>
          </div>
          <div class="input-field col s6">
            <input type="number" id="properties-velocity-y" placeholder=""></input>
            <label for="properties-velocity-y" class="active" id="y-velocity-label">Y Velocity</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input type="number" id="properties-acceleration-x" placeholder=""></input>
            <label for="properties-acceleration-x" class="active" id="x-acceleration-label">X Acceleration</label>
          </div>
          <div class="input-field col s6">
            <input type="number" id="properties-acceleration-y" placeholder=""></input>
            <label for="properties-acceleration-y" class="active" id="y-acceleration-label">Y Acceleration</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input type="number" id="properties-mass" placeholder=""></input>
            <label for="properties-mass" class="active">Mass</label>
          </div>
          <div class="input-field col s6">
            <input type="text" id="properties-nickname" placeholder=""></input>
            <label for="properties-nickname" class="active">Nickname</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6" id="properties-img-container">                     
            <select id="properties-img" class="browser-default">
              <option disabled>Display As:</option>
              <option value="0" selected="selected">Logo</option>
              <option value="1">Weight</option>
              <option value="2">Car</option>
              <option value="3">Sail Boat</option>
              <option value="4">Speed Boat</option>
              <option value="5">Mascot</option>
              <option value="6">Dart</option>
              <option value="7">Jogger</option>
              <option value="8">Dalton</option>
              <option value="9">Danny</option>
              <option value="10">Matthew</option>
              <option value="11">Sam</option>
            </select>
            <label for="properties-img" class="active">Display As</label>
          </div>
          <div class="input-field col s6" id="properties-size-container" class="">
            <input type="text" id="properties-size" placeholder=""></input>
            <label for="properties-size" class="active">Size</label>
          </div>
        </div>
        <div class="row">
          <div class="intput-field col s6">
            <br />
              <span>Vectors</span>
              <div class="switch">
                <label>
                  Off
                  <input id="vector-checkbox" type="checkbox" onchange="showVectors()">
                  <span class="lever"></span>
                  On
                </label>
              </div>
            </div>
        </div>
      </div>
    </div>

    <!-- Hideable global properties window for each element -->
    <div id="globalprops">
      <div class="center-align">
        <h5 class="pad-sides">Global Properties</h5>
        <div class="row">
          <div class="input-field col s6">
            <input type="number" id="glob-xaccel" placeholder=""></input>
            <label for="glob-xaccel" class="active">Horizontal Acceleration</label>
          </div>
          <div class="input-field col s6">
            <input type="number" id="glob-yaccel" placeholder=""></input>
            <label for="glob-yaccel" class="active">Vertical Acceleration</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">        
            <select id="coord-sys" class="browser-default">
              <option disabled>Coordinate System</option>
              <option value="cartesian" selected="selected">Cartesian</option>
              <option value="polar" >Polar</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <select id="glob-length-unit" class="browser-default">
              <option disabled>Length Unit</option>
              <option value="1000.0" >Millimeters</option>
              <option value="100.0" >Centimeters</option>
              <option value="1.0" selected="selected">Meters</option>
              <option value="0.001" >Kilometers</option>
              <option value="39.3701" >Inches</option>
              <option value="3.28084" >Feet</option>
              <option value="1.09361" >Yards</option>
              <option value="0.000621371" >Miles</option>
            </select>
          </div>
          <div class="input-field col s6">
            <select id="glob-time-unit" class="browser-default">
              <option disabled>Time Unit</option>
              <option value="1000.0" >Milliseconds</option>
              <option value="1.0" selected="selected">Seconds</option>
              <option value="0.01666666667" >Minutes</option>
              <option value="0.00027777778" >Hours</option>              
            </select>
          </div>
        </div>
        <div class="row">
          <div id="toolbox">
            <div class="center-align">
              <h5 class="pad-sides">Toolbox</h5>
              <div class="row">
                <div class="col s4 toolbox-item-container" style="background-color: #f5f5f5; width:100px; height:100px;">
                  <div class="dummy"></div>
                  <div class="toolbox-item">
                    <img src="/static/img/toolbox/target.jpg" class="ui-draggable" width="40" >
                  </div>
                </div>
                <div class="input-field col s4">
                  <input type="number" id="glob-xorigin" placeholder="" value="0"></input>
                  <label for="glob-xorigin" class="active">Origin X</label>
                </div>
                <div class="input-field col s4">
                  <input type="number" id="glob-yorigin" placeholder="" value="0"></input>
                  <label for="glob-yorigin" class="active">Origin Y</label>
                </div>
              </div>
            </div>
          </div> 
        </div>

      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col s12">
    <div class="row">
      <div class="col s1">
        <button type="button" class="waves-effect waves-light btn-floating blue darken-1" onclick="toggleSimulator()" id="playpause">
          <span aria-hidden="true"><i id="play-pause-icon" class="fa fa-play fa-size-tiny"></i></span>
        </button>
      </div>
      <div class="col s11">
        <input type="range" min="0" max="3999" step="1" value="0" id="simulatorFrameRange" oninput="onRangeUpdate()" />
      </div>
    </div>
  </div>
</div>
{{ end }}
